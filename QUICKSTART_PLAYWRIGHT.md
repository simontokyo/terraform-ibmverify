# Quick Start: Playwright Tests

## 3-Step Setup

### Step 1: Add Your Credentials to .env

Open the `.env` file in the project root and add these two lines:

```bash
IBM_VERIFY_ADMIN_EMAIL=your-email@ibm.com
IBM_VERIFY_ADMIN_PASSWORD=YourSecurePassword123!
```

**Note**: The `.env` file should already exist (generated by Terraform). You just need to add these two lines.

### Step 2: Install Dependencies

```bash
cd tests
npm install
npx playwright install chromium
```

### Step 3: Run the Test

```bash
npm test
```

That's it!

---

## Where is the .env file?

The `.env` file is in the **project root** directory (same folder as `main.tf`), **NOT** in the `tests/` folder.

```
verify/
├── .env                    ← Add credentials here
├── main.tf
├── tests/
│   ├── createAPIclient.spec.ts
│   └── package.json
└── ...
```

---

## What to Add to .env

Find this section in your `.env` file:

```bash
# ============================================================================
# Admin Login Credentials (for Playwright automation)
# ============================================================================
# IBM_VERIFY_ADMIN_EMAIL=your-email@jp.ibm.com
# IBM_VERIFY_ADMIN_PASSWORD=your-password
```

Uncomment and update:

```bash
# ============================================================================
# Admin Login Credentials (for Playwright automation)
# ============================================================================
IBM_VERIFY_ADMIN_EMAIL=john.doe@ibm.com
IBM_VERIFY_ADMIN_PASSWORD=MySecurePassword123!
```

---

## Run Options

| Command | Description |
|---------|-------------|
| `npm test` | Run tests (headless) |
| `npm run test:headed` | Run with visible browser |
| `npm run test:ui` | Run in interactive UI mode |

---

## What Happens After the Test

The test will automatically:
1. Create an API client in IBM Verify
2. Extract the Client ID and Secret
3. Save them directly to your `.env` file as:
   - `IBM_VERIFY_API_CLIENT_ID`
   - `IBM_VERIFY_API_CLIENT_SECRET`

No manual copying needed. The credentials are ready to use immediately in your applications.

---

## Troubleshooting

**Error: "IBM_VERIFY_ADMIN_EMAIL is not set"**
- Open `.env` in project root
- Add: `IBM_VERIFY_ADMIN_EMAIL=your-email@jp.ibm.com`

**Error: "Cannot find module 'dotenv'"**
- Run: `cd tests && npm install`

---

## More Info

- **Detailed setup**: See `tests/SETUP.md`
- **Full documentation**: See `tests/README.md`
- **What changed**: See `tests/CHANGES.md`
- **Complete guide**: See `PLAYWRIGHT_SETUP.md`

